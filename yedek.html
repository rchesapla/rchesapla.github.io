<!DOCTYPE html>
<html lang="tr" ng-app="miningApp">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>RCHesapla • Dashboard</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
<script src="https://angular-ui.github.io/bootstrap/ui-bootstrap-tpls-2.5.0.js"></script>

<!--===============================================================================================-->
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Audiowide">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/simplebar@latest/dist/simplebar.min.css" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Rubik+Wet+Paint&family=Sixtyfour+Convergence&display=swap" rel="stylesheet">
<!--===============================================================================================-->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js/dist/web3.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
<script src="https://angular-ui.github.io/bootstrap/ui-bootstrap-tpls-2.5.0.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/spark-md5/3.0.0/spark-md5.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/js-confetti@latest/dist/js-confetti.browser.js"></script>
<!--===============================================================================================-->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.8.1/nouislider.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.8.1/nouislider.min.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
<script src="https://cdn.jsdelivr.net/npm/echarts@5"></script>
<script src="https://kit.fontawesome.com/15ed6ea9e5.js" crossorigin="anonymous"></script>
<!--===============================================================================================-->
<script src="https://wminerrc.github.io/calculator/data/basic_miners.js"></script>
<script src="https://wminerrc.github.io/calculator/data/merge_miners.js"></script>
<script src="https://wminerrc.github.io/calculator/data/old/merge_miners.js"></script>
<script src="https://wminerrc.github.io/calculator/data/components.js"></script>
<!--===============================================================================================-->
<script src="js/app.js"></script>
<script src="js/firebase-db-service.js"></script>
<!--===============================================================================================-->
<script src="js/services.js"></script>
<script src="js/user-miner-service.js"></script>
<script src="js/miner-service.js"></script>
<link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css'>
<link href="https://fonts.googleapis.com/css2?family=Mountains+of+Christmas:wght@700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
<!--===============================================================================================-->

<style>
body{
  margin:0;
  font-family:'Poppins',sans-serif;
  background:#0f172a;
  color:#e2e8f0;
}

/* Layout */
.wrapper{
  display:flex;
  min-height:100vh;
}

/* Sidebar */
.sidebar{
  width:260px;
  background:#111827;
  padding:25px;
  display:flex;
  flex-direction:column;
}

.logo{
  font-size:20px;
  font-weight:600;
  color:#00e5ff;
  margin-bottom:30px;
}

.sidebar a{
  color:#94a3b8;
  text-decoration:none;
  margin-bottom:12px;
  transition:.3s;
}

.sidebar a:hover{
  color:#00e5ff;
}

/* Main */
.main{
  flex:1;
  padding:30px;
}

/* Header */
.header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:30px;
}

.live-status{
  color:#22c55e;
  font-size:14px;
}

/* Cards */
.stat-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:20px;
  margin-bottom:30px;
}

.card-modern{
  background:#1e293b;
  padding:20px;
  border-radius:16px;
  box-shadow:0 4px 20px rgba(0,0,0,.4);
}

.stat-title{
  font-size:13px;
  color:#94a3b8;
}

.stat-value{
  font-size:22px;
  font-weight:600;
  color:#00e5ff;
}

/* Panel */
.panel{
  background:#1e293b;
  padding:25px;
  border-radius:18px;
  margin-bottom:25px;
}

/* Button */
.btn-modern{
  background:#00e5ff;
  border:none;
  padding:8px 15px;
  border-radius:8px;
  font-weight:600;
}

@media(max-width:768px){
  .sidebar{display:none;}
}



.miner-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(230px,1fr));
  gap:20px;
}

.miner-card{
  background:#0f172a;
  border-radius:16px;
  padding:20px;
  text-align:center;
  box-shadow:0 4px 20px rgba(0,0,0,.4);
  position:relative;
  transition:.3s;
}

.miner-card:hover{
  transform:translateY(-5px);
}

.rarity{
  position:absolute;
  top:10px;
  left:10px;
  font-size:11px;
  padding:4px 8px;
  border-radius:6px;
  background:#334155;
}

.miner-img img{
  width:80px;
  margin:15px 0;
}

.miner-name{
  font-weight:600;
  margin-bottom:10px;
}

.miner-stats{
  font-size:13px;
  color:#94a3b8;
  line-height:1.6;
}




</style>
</head>

<body ng-controller="MiningController">

<div class="wrapper">

  <!-- SIDEBAR -->
  <div class="sidebar">
    <div class="logo">⛏ RCHesapla</div>
    <a href="#">Dashboard</a>
    <a href="#">Kazanç</a>
    <a href="#">Minerlar</a>
  </div>

  <!-- MAIN -->
  <div class="main">

    <!-- HEADER -->
    <div class="header">
      <h4>🚀 Rollercoin Güç Dashboard</h4>
      <div class="live-status">● Sistem Aktif</div>
    </div>

    <!-- USER ARAMA -->
    <div class="panel">
      <div class="form-row">
        <div class="form-group col-md-6">
          <label>RC Kullanıcı Adı</label>
          <input type="text"
                 class="form-control"
                 ng-model="userSearchText"
                 uib-typeahead="player as player.code for player in getPlayerByName($viewValue)"
                 typeahead-on-select="onSelectPlayer($item, $model, $label, $event)"
                 placeholder="Örn: FthCLK">
        </div>
        <div class="form-group col-md-3">
          <label>Lig</label>
          <select class="form-control"
                  ng-model="formData.league"
                  ng-options="league.name for league in leagues">
          </select>
        </div>
        <div class="form-group col-md-3 d-flex align-items-end">
          <button class="btn-modern w-100"
                  ng-click="resetValues()">
            Verileri Güncelle
          </button>
        </div>
      </div>
    </div>

    <!-- İSTATİSTİK KARTLARI -->
    <div class="stat-grid" ng-if="user_data">

      <div class="card-modern">
        <div class="stat-title">Toplam Güç</div>
        <div class="stat-value">
          {{chooseBestHashRateUnit(user_data.powerData.total,'GH/s').value.toFixed(2)}}
          {{chooseBestHashRateUnit(user_data.powerData.total,'GH/s').unit}}
        </div>
      </div>

      <div class="card-modern">
        <div class="stat-title">Oyun Gücü</div>
        <div class="stat-value">
          {{chooseBestHashRateUnit(user_data.powerData.games,'GH/s').value.toFixed(2)}}
          {{chooseBestHashRateUnit(user_data.powerData.games,'GH/s').unit}}
        </div>
      </div>

      <div class="card-modern">
        <div class="stat-title">Miner Gücü</div>
        <div class="stat-value">
          {{chooseBestHashRateUnit(user_data.powerData.miners,'GH/s').value.toFixed(2)}}
          {{chooseBestHashRateUnit(user_data.powerData.miners,'GH/s').unit}}
        </div>
      </div>

      <div class="card-modern">
        <div class="stat-title">Bonus</div>
        <div class="stat-value">
          {{(user_data.powerData.bonus_percent / 100)}}%
        </div>
      </div>

    </div>

    <!-- KAZANÇ PANELİ -->
    <div class="panel" ng-if="formData.currency">
      <h5>💰 Kazanç İstatistikleri</h5>
      <p>Günlük: {{calculateEarnings('day','amount')}} {{formData.currency.name}}</p>
      <p>Haftalık: {{calculateEarnings('week','amount')}} {{formData.currency.name}}</p>
      <p>Aylık: {{calculateEarnings('month','amount')}} {{formData.currency.name}}</p>
      <p>Yıllık: {{calculateEarnings('year','amount')}} {{formData.currency.name}}</p>
    </div>
<input type="checkbox" id="checkbox2" ng-model="formData.showAllMiners" ng-change="filterAllMiners()" name="show_all_miners"/>
  <label for="checkbox2">Miner Listesi</label>
	
	<!-- MINER LİSTESİ -->
<div class="panel" ng-if="allMiners.length > 0">

  <div class="d-flex justify-content-between align-items-center mb-3">
    <h5>🖥 Modern Miner Listesi</h5>

    <select class="form-control w-auto"
            ng-model="selectedSort"
            ng-change="changeMinerSort(selectedSort)">
      <option value="bonus_power">🎁 Bonusa Göre</option>
      <option value="power">⚡ Güce Göre</option>
      <option value="total_power">🚀 Bonuslu Güce Göre</option>
      <option value="name">🔤 İsme Göre</option>
    </select>
  </div>

  <div class="miner-grid">

    <div class="miner-card"
         ng-repeat="miner in allMiners | orderBy:getMinerSortValue:reverseAllMinersSort | limitTo:itemsPerPage : (currentPage - 1) * itemsPerPage">

      <!-- Rarity -->
      <div class="rarity {{miner.rarity}}">
        {{miner.rarity | uppercase}}
      </div>

      <!-- Image -->
      <div class="miner-img">
        <img src="https://static.rollercoin.com/static/img/market/miners/{{miner.filename}}.gif?v=1707996476608">
      </div>

      <!-- Name -->
      <div class="miner-name">
        {{miner.name.en}}
      </div>

      <!-- Stats -->
      <div class="miner-stats">

        <div>
          ⚡ Güç:
          {{chooseBestHashRateUnit(miner.power,'GH/s').value.toFixed(2)}}
          {{chooseBestHashRateUnit(miner.power,'GH/s').unit}}
        </div>

        <div>
          🎁 Bonus:
          {{(miner.bonus_power / 100)}}%
        </div>

        <div>
          🚀 Bonuslu:
          {{
            chooseBestHashRateUnit(
              miner.power * (1 + (miner.bonus_power / 10000)),
              'GH/s'
            ).value.toFixed(2)
          }}
          {{
            chooseBestHashRateUnit(
              miner.power * (1 + (miner.bonus_power / 10000)),
              'GH/s'
            ).unit
          }}
        </div>

      </div>

      <button class="btn-modern w-100 mt-3"
              ng-click="addMinerToSimulation(miner)">
        + Listeye Ekle
      </button>

    </div>

  </div>

  <!-- PAGINATION -->
  <div class="mt-4 text-center">
    <ul uib-pagination
        total-items="allMiners.length"
        ng-model="currentPage"
        items-per-page="itemsPerPage"
        max-size="5"
        boundary-links="true"
        first-text="İlk"
        previous-text="Önceki"
        next-text="Sonraki"
        last-text="Son">
    </ul>
  </div>

</div>

	

  </div>
  
  
  
  
</div>

</body>
</html>
