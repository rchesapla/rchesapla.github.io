<!DOCTYPE html>
<html lang="tr" ng-app="miningApp">
<head>
<meta charset="UTF-8">
<title>Kullanıcı Girişi</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
<script src="https://angular-ui.github.io/bootstrap/ui-bootstrap-tpls-2.5.0.js"></script>

<script src="js/app.js"></script>
<script src="js/services.js"></script>
<script src="js/user-miner-service.js"></script>
<script src="js/miner-service.js"></script>

<style>
body{
    background:#0f1630;
    color:white;
}
.login-box{
    max-width:400px;
    margin:100px auto;
    padding:30px;
    background:#1b2130;
    border-radius:15px;
}
</style>
</head>

<body ng-controller="MiningController">

<div class="login-box text-center">

    <h4>Rollercoin Kullanıcı Adı</h4>

    <input type="text"
           ng-model="userSearchText"
           typeahead-wait-ms="300"
           uib-typeahead="player as player.code for player in getPlayerByName($viewValue)"
           typeahead-on-select="selectUser($item)"
           class="form-control mt-3"
           placeholder="Örn: FthCLK">

    <div ng-show="loading" class="mt-3">
        Yükleniyor...
    </div>

</div>

<script>
angular.module('miningApp').run(function($rootScope){});

angular.element(document).ready(function () {

    let scope = angular.element(document.body).scope();

    scope.selectUser = function(player){
        scope.onSelectPlayer(player);

        setTimeout(function(){
            localStorage.setItem("rc_user_loaded", "true");
            window.location.href = "madencilerim2.html";
        },1000);
    };

});
</script>

</body>
</html>
